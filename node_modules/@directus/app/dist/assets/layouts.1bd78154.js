import{p as l,q as r,C as u,v as s,M as t,u as a,D as e}from"./vendor.299bc11c.js";const d={class:"markdown-body"},h=e("Custom Layouts allow for building new ways to view or interact with Items via the Collection Detail pages. "),p=e("Learn more about Layouts"),y=e("."),_=t("h2",{id:"1.-setup-the-boilerplate"},[e("1. Setup the Boilerplate "),t("a",{class:"header-anchor",href:"#1.-setup-the-boilerplate"},"#")],-1),m=t("p",null,"Every layout is a standalone \u201Cpackage\u201D that contains at least a metadata file and a Vue component. We recommend using the following file structure:",-1),f=t("pre",null,[t("code",null,`src/
	index.js
	layout.vue
`)],-1),g=t("h3",{id:"src%2Findex.js"},[e("src/index.js "),t("a",{class:"header-anchor",href:"#src%2Findex.js"},"#")],-1),j=t("pre",null,[t("code",{class:"language-js"},[t("span",{class:"hljs-keyword"},"import"),e(" { ref } "),t("span",{class:"hljs-keyword"},"from"),e(),t("span",{class:"hljs-string"},"'vue'"),e(`;
`),t("span",{class:"hljs-keyword"},"import"),e(" LayoutComponent "),t("span",{class:"hljs-keyword"},"from"),e(),t("span",{class:"hljs-string"},"'./layout.vue'"),e(`;

`),t("span",{class:"hljs-keyword"},"export"),e(),t("span",{class:"hljs-keyword"},"default"),e(` {
	`),t("span",{class:"hljs-attr"},"id"),e(": "),t("span",{class:"hljs-string"},"'custom'"),e(`,
	`),t("span",{class:"hljs-attr"},"name"),e(": "),t("span",{class:"hljs-string"},"'Custom'"),e(`,
	`),t("span",{class:"hljs-attr"},"icon"),e(": "),t("span",{class:"hljs-string"},"'box'"),e(`,
	`),t("span",{class:"hljs-attr"},"component"),e(`: LayoutComponent,
	`),t("span",{class:"hljs-attr"},"slots"),e(`: {
		`),t("span",{class:"hljs-attr"},"options"),e(": "),t("span",{class:"hljs-function"},"() =>"),e(),t("span",{class:"hljs-literal"},"null"),e(`,
		`),t("span",{class:"hljs-attr"},"sidebar"),e(": "),t("span",{class:"hljs-function"},"() =>"),e(),t("span",{class:"hljs-literal"},"null"),e(`,
		`),t("span",{class:"hljs-attr"},"actions"),e(": "),t("span",{class:"hljs-function"},"() =>"),e(),t("span",{class:"hljs-literal"},"null"),e(`,
	},
	`),t("span",{class:"hljs-function"},[t("span",{class:"hljs-title"},"setup"),e("("),t("span",{class:"hljs-params"}),e(")")]),e(` {
		`),t("span",{class:"hljs-keyword"},"const"),e(" name = ref("),t("span",{class:"hljs-string"},"'Custom Layout'"),e(`);

		`),t("span",{class:"hljs-keyword"},"return"),e(` { name };
	},
};
`)])],-1),b=t("li",null,[t("code",null,"id"),e(" \u2014 The unique key for this layout. It is good practice to scope proprietary layouts with an author prefix.")],-1),x=t("li",null,[t("code",null,"name"),e(" \u2014 The human-readable name for this layout.")],-1),v=t("code",null,"icon",-1),k=e(" \u2014 An icon name from the "),w=e("material icon set"),T=e(", or the extended list of Directus custom icons."),C=t("li",null,[t("code",null,"component"),e(" \u2014 A reference to your Vue component.")],-1),L=t("div",{class:"tip hint"},[t("div",{class:"hint-title"},"TypeScript"),t("p",null,[e("See "),t("a",{href:"https://github.com/directus/directus/blob/20355fee5eba514dd75565f60269311187010c66/app/src/layouts/types.ts#L4-L9",target:"_blank",rel:"noopener noreferrer"},"the TypeScript definition"),e(" for more info on what can go into this object.")])],-1),D=t("h3",{id:"src%2Flayout.vue"},[e("src/layout.vue "),t("a",{class:"header-anchor",href:"#src%2Flayout.vue"},"#")],-1),q=t("pre",null,[t("code",{class:"language-vue"},`<template>
	<div>
		<p>Name: {{ name }}</p>
		<p>Collection: {{ collection }}</p>
	</div>
</template>

<script>
export default {
	inheritAttrs: false,
	props: {
		collection: {
			type: String,
			required: true,
		},
		name: {
			type: String,
			required: true,
		},
	},
};
<\/script>
`)],-1),S=t("p",null,"The props you can use in a layout are:",-1),V=t("ul",null,[t("li",null,[t("code",null,"collection"),e(" \u2014 The current collection\u2019s name.")]),t("li",null,[t("code",null,"selection"),e(" (sync) - Any currently selected items.")]),t("li",null,[t("code",null,"layout-options"),e(" (sync) - The user\u2019s current saved layout options.")]),t("li",null,[t("code",null,"layout-query"),e(" (sync) - The user\u2019s layout query parameters. (eg: sort, limit, etc)")]),t("li",null,[t("code",null,"filters"),e(" (sync) - The user\u2019s currently active filters.")]),t("li",null,[t("code",null,"search-query"),e(" (sync) - The user\u2019s current search query.")])],-1),A=t("h2",{id:"2.-install-dependencies"},[e("2. Install Dependencies "),t("a",{class:"header-anchor",href:"#2.-install-dependencies"},"#")],-1),F=t("p",null,"Set up a package.json file by running:",-1),I=t("pre",null,[t("code",{class:"language-bash"},`npm init -y
`)],-1),B=t("p",null,[e("To be read by the Admin App, your custom layouts\u2019s Vue component must first be bundled into a single "),t("code",null,"index.js"),e(" file. We recommend bundling your code using the directus-extension CLI from our "),t("code",null,"@directus/extensions-sdk"),e(" package. The CLI internally uses a Rollup configuration tailored specifically to bundling Directus extensions. To install the Extension SDK, run this command:")],-1),N=t("pre",null,[t("code",{class:"language-bash"},`npm i -D @directus/extensions-sdk
`)],-1),W=t("p",null,[e("For the directus-extension CLI to recognize the extension type, the input path and the output path, add this field to the root of the "),t("code",null,"package.json"),e(" file:")],-1),E=t("pre",null,[t("code",{class:"language-json"},`"directus:extension": {
	"type": "layout",
	"path": "dist/index.js",
	"source": "src/index.js",
	"host": "^9.0.0-rc.87",
	"hidden": false
}
`)],-1),K=t("h2",{id:"3.-develop-your-custom-layout"},[e("3. Develop Your Custom Layout "),t("a",{class:"header-anchor",href:"#3.-develop-your-custom-layout"},"#")],-1),z=t("p",null,"The layout itself is simply a Vue component, which provides a blank canvas for creating anything you need.",-1),M=t("h2",{id:"4.-build-and-deploy"},[e("4. Build and Deploy "),t("a",{class:"header-anchor",href:"#4.-build-and-deploy"},"#")],-1),R=t("p",null,"To build the layout for use within Directus, run:",-1),Y=t("pre",null,[t("code",{class:"language-bash"},`npx directus-extension build
`)],-1),G=t("p",null,[e("Finally, move the output from your layout\u2019s "),t("code",null,"dist"),e(" folder into your project\u2019s "),t("code",null,"/extensions/layouts/my-custom-layout"),e(" folder. Keep in mind that the extensions directory is configurable within your env file, and may be located elsewhere.")],-1),Q={setup(H,{expose:i}){const n={title:"Custom Layouts",modularExtension:!0};return i({frontmatter:n}),(J,O)=>{const o=l("router-link"),c=l("DocsWrapper");return r(),u(c,{frontmatter:n},{default:s(()=>[t("div",d,[t("blockquote",null,[t("p",null,[h,a(o,{to:"/docs/getting-started/glossary/#layouts"},{default:s(()=>[p]),_:1}),y])]),_,m,f,g,j,t("ul",null,[b,x,t("li",null,[v,k,a(o,{to:"/docs/getting-started/glossary/#material-icons"},{default:s(()=>[w]),_:1}),T]),C]),L,D,q,S,V,A,F,I,B,N,W,E,K,z,M,R,Y,G])]),_:1})}}};export{Q as default};
